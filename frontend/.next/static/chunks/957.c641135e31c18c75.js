"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{381:(e,s,t)=>{t.d(s,{A:()=>a});let a=(0,t(19946).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9957:(e,s,t)=>{t.r(s),t.d(s,{default:()=>ea});var a=t(95155),l=t(12115),r=t(30285),n=t(26126),d=t(85127);let i=(0,t(19946).A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var o=t(47924),c=t(381),m=t(42355),x=t(13052),u=t(54165),h=t(46081),p=t(6101),j=t(15452),f=t(85185),g=t(99708),b="AlertDialog",[N,v]=(0,h.A)(b,[j.Hs]),w=(0,j.Hs)(),y=e=>{let{__scopeAlertDialog:s,...t}=e,l=w(s);return(0,a.jsx)(j.bL,{...l,...t,modal:!0})};y.displayName=b,l.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...l}=e,r=w(t);return(0,a.jsx)(j.l9,{...r,...l,ref:s})}).displayName="AlertDialogTrigger";var A=e=>{let{__scopeAlertDialog:s,...t}=e,l=w(s);return(0,a.jsx)(j.ZL,{...l,...t})};A.displayName="AlertDialogPortal";var C=l.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...l}=e,r=w(t);return(0,a.jsx)(j.hJ,{...r,...l,ref:s})});C.displayName="AlertDialogOverlay";var k="AlertDialogContent",[S,D]=N(k),R=(0,g.Dc)("AlertDialogContent"),E=l.forwardRef((e,s)=>{let{__scopeAlertDialog:t,children:r,...n}=e,d=w(t),i=l.useRef(null),o=(0,p.s)(s,i),c=l.useRef(null);return(0,a.jsx)(j.G$,{contentName:k,titleName:L,docsSlug:"alert-dialog",children:(0,a.jsx)(S,{scope:t,cancelRef:c,children:(0,a.jsxs)(j.UC,{role:"alertdialog",...d,...n,ref:o,onOpenAutoFocus:(0,f.mK)(n.onOpenAutoFocus,e=>{var s;e.preventDefault(),null==(s=c.current)||s.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,a.jsx)(R,{children:r}),(0,a.jsx)(q,{contentRef:i})]})})})});E.displayName=k;var L="AlertDialogTitle",T=l.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...l}=e,r=w(t);return(0,a.jsx)(j.hE,{...r,...l,ref:s})});T.displayName=L;var O="AlertDialogDescription",_=l.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...l}=e,r=w(t);return(0,a.jsx)(j.VY,{...r,...l,ref:s})});_.displayName=O;var z=l.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...l}=e,r=w(t);return(0,a.jsx)(j.bm,{...r,...l,ref:s})});z.displayName="AlertDialogAction";var I="AlertDialogCancel",P=l.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...l}=e,{cancelRef:r}=D(I,t),n=w(t),d=(0,p.s)(s,r);return(0,a.jsx)(j.bm,{...n,...l,ref:d})});P.displayName=I;var q=e=>{let{contentRef:s}=e,t="`".concat(k,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(k,"` by passing a `").concat(O,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(k,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return l.useEffect(()=>{var e;document.getElementById(null==(e=s.current)?void 0:e.getAttribute("aria-describedby"))},[t,s]),null},F=t(59434);function H(e){let{...s}=e;return(0,a.jsx)(y,{"data-slot":"alert-dialog",...s})}function U(e){let{...s}=e;return(0,a.jsx)(A,{"data-slot":"alert-dialog-portal",...s})}function $(e){let{className:s,...t}=e;return(0,a.jsx)(C,{"data-slot":"alert-dialog-overlay",className:(0,F.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function M(e){let{className:s,...t}=e;return(0,a.jsxs)(U,{children:[(0,a.jsx)($,{}),(0,a.jsx)(E,{"data-slot":"alert-dialog-content",className:(0,F.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...t})]})}function V(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,F.cn)("flex flex-col gap-2 text-center sm:text-left",s),...t})}function J(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,F.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...t})}function B(e){let{className:s,...t}=e;return(0,a.jsx)(T,{"data-slot":"alert-dialog-title",className:(0,F.cn)("text-lg font-semibold",s),...t})}function G(e){let{className:s,...t}=e;return(0,a.jsx)(_,{"data-slot":"alert-dialog-description",className:(0,F.cn)("text-muted-foreground text-sm",s),...t})}function Y(e){let{className:s,...t}=e;return(0,a.jsx)(z,{className:(0,F.cn)((0,r.r)(),s),...t})}function K(e){let{className:s,...t}=e;return(0,a.jsx)(P,{className:(0,F.cn)((0,r.r)({variant:"outline"}),s),...t})}var X=t(62523),Z=t(88539),Q=t(59409),W=t(55670),ee=t(54416),es=t(5196);function et(e){let{user:s,isOpen:t,onClose:n,onSubmit:d}=e,[i,o]=(0,l.useState)({approvedRole:"",houseNumber:"",notes:""}),[c,m]=(0,l.useState)(!1),[x,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{s&&o({approvedRole:"resident"===s.role?"ลูกบ้าน":"ยาม",houseNumber:"-"!==s.houseNumber?s.houseNumber:"",notes:""})},[s]);let p=()=>{m(!1),h(!1)};return s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.lG,{open:t,onOpenChange:n,children:(0,a.jsxs)(u.Cf,{className:"sm:max-w-lg max-w-[95vw] max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(u.c7,{children:(0,a.jsxs)(u.L3,{className:"text-xl font-semibold flex items-center gap-2",children:[(0,a.jsx)(W.A,{className:"h-5 w-5 text-blue-500"}),"อนุมัติผู้ใช้ใหม่"]})}),(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mb-6 border border-blue-200",children:[(0,a.jsx)("h3",{className:"font-medium text-blue-900 mb-3",children:"ข้อมูลผู้สมัคร"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:"ชื่อ-นามสกุล:"}),(0,a.jsxs)("p",{className:"text-blue-900",children:[s.fname," ",s.lname]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:"Username:"}),(0,a.jsxs)("p",{className:"text-blue-900",children:["@",s.username]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:"อีเมล:"}),(0,a.jsx)("p",{className:"text-blue-900",children:s.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:"เบอร์โทร:"}),(0,a.jsx)("p",{className:"text-blue-900",children:s.phone})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:"วันที่สมัคร:"}),(0,a.jsx)("p",{className:"text-blue-900",children:new Date(s.requestDate).toLocaleDateString("th-TH")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-700 font-medium",children:"บทบาทที่สมัคร:"}),(0,a.jsx)("p",{className:"text-blue-900",children:"resident"===s.role?"ลูกบ้าน":"ยาม"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"บทบาทที่อนุมัติ"}),(0,a.jsxs)(Q.l6,{value:i.approvedRole,onValueChange:e=>o({...i,approvedRole:e}),children:[(0,a.jsx)(Q.bq,{children:(0,a.jsx)(Q.yv,{placeholder:"เลือกบทบาท"})}),(0,a.jsxs)(Q.gC,{children:[(0,a.jsx)(Q.eb,{value:"ลูกบ้าน",children:"ลูกบ้าน"}),(0,a.jsx)(Q.eb,{value:"ยาม",children:"ยาม"})]})]})]}),"ลูกบ้าน"===i.approvedRole&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"บ้านเลขที่"}),(0,a.jsx)(X.p,{placeholder:"เช่น 88/123",value:i.houseNumber,onChange:e=>o({...i,houseNumber:e.target.value})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"กรอกบ้านเลขที่สำหรับลูกบ้าน"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"หมายเหตุ (ไม่บังคับ)"}),(0,a.jsx)(Z.T,{placeholder:"เพิ่มหมายเหตุหรือข้อมูลเพิ่มเติม...",value:i.notes,onChange:e=>o({...i,notes:e.target.value}),rows:3})]})]}),(0,a.jsxs)(u.Es,{className:"flex gap-3 pt-6",children:[(0,a.jsxs)(r.$,{type:"button",variant:"outline",className:"flex-1 border-red-300 text-red-700 hover:bg-red-50",onClick:()=>{s&&h(!0)},children:[(0,a.jsx)(ee.A,{className:"w-4 h-4 mr-2"}),"ปฏิเสธ"]}),(0,a.jsxs)(r.$,{type:"button",className:"flex-1 bg-green-600 hover:bg-green-700 text-white",onClick:()=>{if(s){if("ลูกบ้าน"===i.approvedRole&&!i.houseNumber.trim())return void alert("กรุณาระบุบ้านเลขที่สำหรับลูกบ้าน");m(!0)}},children:[(0,a.jsx)(es.A,{className:"w-4 h-4 mr-2"}),"อนุมัติ"]})]})]})}),(0,a.jsx)(H,{open:c,onOpenChange:m,children:(0,a.jsxs)(M,{className:"flex flex-col w-100",children:[(0,a.jsxs)(V,{children:[(0,a.jsxs)(B,{className:"flex items-center gap-2",children:[(0,a.jsx)(es.A,{className:"h-5 w-5 text-green-600"}),"ยืนยันการอนุมัติ"]}),(0,a.jsxs)(G,{children:["คุณต้องการอนุมัติผู้ใช้ ",(0,a.jsxs)("strong",{children:[null==s?void 0:s.fname," ",null==s?void 0:s.lname]}),"เป็น ",(0,a.jsx)("strong",{children:i.approvedRole})," ใช่หรือไม่?","ลูกบ้าน"===i.approvedRole&&i.houseNumber&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("br",{}),"บ้านเลขที่: ",(0,a.jsx)("strong",{children:i.houseNumber})]})]})]}),(0,a.jsxs)(J,{children:[(0,a.jsx)(K,{onClick:p,children:"ยกเลิก"}),(0,a.jsx)(Y,{onClick:()=>{m(!1),d("approve",i)},className:"bg-green-600 hover:bg-green-700",children:"ยืนยันการอนุมัติ"})]})]})}),(0,a.jsx)(H,{open:x,onOpenChange:h,children:(0,a.jsxs)(M,{className:"flex flex-col w-100",children:[(0,a.jsxs)(V,{children:[(0,a.jsxs)(B,{className:"flex items-center gap-2",children:[(0,a.jsx)(ee.A,{className:"h-5 w-5 text-red-600"}),"ยืนยันการปฏิเสธ"]}),(0,a.jsxs)(G,{children:["คุณต้องการปฏิเสธผู้ใช้ ",(0,a.jsxs)("strong",{children:[null==s?void 0:s.fname," ",null==s?void 0:s.lname]})," ใช่หรือไม่?",(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-red-600 font-medium",children:"การปฏิเสธจะทำให้ผู้ใช้ไม่สามารถเข้าสู่ระบบได้"})]})]}),(0,a.jsxs)(J,{children:[(0,a.jsx)(K,{onClick:p,children:"ยกเลิก"}),(0,a.jsx)(Y,{onClick:()=>{h(!1),d("reject",i)},className:"bg-red-600 hover:bg-red-700",children:"ยืนยันการปฏิเสธ"})]})]})})]}):null}function ea(){let[e,s]=(0,l.useState)([]),[t,u]=(0,l.useState)([]),[h,p]=(0,l.useState)(!0),[j,f]=(0,l.useState)(null),[g,b]=(0,l.useState)(null),[N,v]=(0,l.useState)(!1),[w,y]=(0,l.useState)(1),[A,C]=(0,l.useState)(()=>{if(window.localStorage){let e=localStorage.getItem("pendingTable_itemsPerPage");return e?parseInt(e,10):2}return 2}),[k,S]=(0,l.useState)(""),[D,R]=(0,l.useState)(!1),E=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e?R(!0):p(!0),f(null);let t=await fetch("/api/pendingUsers");if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let a=await t.json();if(a.success)s(a.data.residents),u(a.data.guards);else throw Error(a.error||"Failed to fetch pending users")}catch(e){f(e instanceof Error?e.message:"An error occurred")}finally{p(!1),R(!1)}};(0,l.useEffect)(()=>{E()},[]);let L=async(e,s)=>{if(g)try{let t;t="approve"===e?await fetch("/api/approveUser",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:g.id,currentRole:g.role,approvedRole:"ลูกบ้าน"===s.approvedRole?"resident":"guard",houseNumber:"ลูกบ้าน"===s.approvedRole?s.houseNumber:void 0,notes:s.notes})}):await fetch("/api/rejectUser",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:g.id,currentRole:g.role,reason:"Rejected by administrator",notes:s.notes})});let a=await t.json();a.success?(await E(!0),v(!1),b(null)):alert("Failed to ".concat(e," user: ").concat(a.error))}catch(s){alert("An error occurred while ".concat(e,"ing the user"))}},T=e=>({id:e.id,username:e.email.split("@")[0],email:e.email,fname:e.fname,lname:e.lname,phone:e.phone,role:e.role,houseNumber:e.house_address||"-",requestDate:e.createdAt,status:e.status,profile_image_url:e.profile_image_url}),O=[...e.map(T),...t.map(T)],_=O.filter(e=>e.fname.toLowerCase().includes(k.toLowerCase())||e.lname.toLowerCase().includes(k.toLowerCase())||e.email.toLowerCase().includes(k.toLowerCase())||e.status.toLowerCase().includes(k.toLowerCase())||e.houseNumber.includes(k)),z=_.length,I=Math.ceil(z/A),P=(w-1)*A,q=P+A,F=_.slice(P,q);return((0,l.useEffect)(()=>{y(1)},[k]),h)?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-2 text-muted-foreground",children:"กำลังโหลดข้อมูล..."})]})}):j?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-red-500 text-xl mb-2",children:"⚠️"}),(0,a.jsxs)("p",{className:"text-red-600",children:["เกิดข้อผิดพลาด: ",j]}),(0,a.jsx)("button",{onClick:()=>E(),className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"ลองใหม่"})]})}):(0,a.jsxs)("div",{className:"bg-background rounded-lg shadow-sm border",children:[(0,a.jsx)("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(i,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-500"}),(0,a.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-foreground",children:"ผู้ใช้ใหม่รออนุมัติ"}),(0,a.jsxs)(n.E,{variant:"secondary",className:"bg-orange-100 text-orange-800 text-xs sm:text-sm",children:[O.length," รายการ"]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[(0,a.jsxs)("div",{className:"relative w-full sm:w-auto",children:[(0,a.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"ค้นหาผู้ใช้...",value:k,onChange:e=>S(e.target.value),className:"pl-10 pr-4 py-2 border border-border rounded-lg focus:ring-2 focus:ring-ring focus:border-transparent w-full sm:w-64 text-sm"})]}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-2",children:D&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-blue-600",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),(0,a.jsx)("span",{children:"กำลังอัปเดต..."})]})})]})]})}),(0,a.jsx)("div",{className:"overflow-x-auto rounded-lg border border-border bg-background shadow-sm hover:shadow-md transition-shadow duration-200",children:(0,a.jsxs)(d.XI,{children:[(0,a.jsx)(d.A0,{children:(0,a.jsxs)(d.Hj,{className:"bg-muted/50 border-b border-border",children:[(0,a.jsx)(d.nd,{className:"text-muted-foreground font-semibold text-sm py-4 px-6",children:"ผู้สมัคร"}),(0,a.jsx)(d.nd,{className:"text-muted-foreground font-semibold text-sm py-4 px-6 hidden sm:table-cell",children:"ข้อมูลติดต่อ"}),(0,a.jsx)(d.nd,{className:"text-muted-foreground font-semibold text-sm py-4 px-6",children:"บทบาท"}),(0,a.jsx)(d.nd,{className:"text-muted-foreground font-semibold text-sm py-4 px-6 hidden md:table-cell",children:"บ้านเลขที่"}),(0,a.jsx)(d.nd,{className:"text-muted-foreground font-semibold text-sm py-4 px-6 hidden lg:table-cell",children:"วันที่สมัคร"}),(0,a.jsx)(d.nd,{className:"text-muted-foreground font-semibold text-sm py-4 px-6",children:"การดำเนินการ"})]})}),(0,a.jsx)(d.BF,{children:F.map(e=>{let s,t;return(0,a.jsxs)(d.Hj,{className:"hover:bg-muted/30 transition-colors border-b border-border/50",children:[(0,a.jsx)(d.nA,{className:"py-4 px-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center text-white font-semibold text-sm shadow-sm ".concat((e=>{let s=["bg-blue-500","bg-green-500","bg-purple-500","bg-yellow-500","bg-red-500","bg-indigo-500"],t=e.charCodeAt(0)%s.length;return s[t]})(e.id)),children:(s=e.fname,t=e.lname,"".concat(s.charAt(0)).concat(t.charAt(0)).toUpperCase())}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsxs)("div",{className:"font-semibold text-foreground text-base",children:[e.fname," ",e.lname]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["@",e.username]}),(0,a.jsxs)("div",{className:"sm:hidden text-xs text-muted-foreground mt-1 space-y-1",children:[(0,a.jsx)("div",{children:e.email}),(0,a.jsx)("div",{children:e.phone})]})]})]})}),(0,a.jsx)(d.nA,{className:"hidden sm:table-cell",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-sm text-foreground",children:e.email}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.phone})]})}),(0,a.jsx)(d.nA,{children:(0,a.jsx)(n.E,{variant:"outline",className:"text-xs sm:text-sm ".concat("guard"===e.role?"border-blue-200 text-blue-700 bg-blue-50":"border-green-200 text-green-700 bg-green-50"),children:"guard"===e.role?"ยาม":"ลูกบ้าน"})}),(0,a.jsx)(d.nA,{className:"text-gray-700 hidden md:table-cell text-sm",children:"-"!==e.houseNumber?e.houseNumber:"-"}),(0,a.jsx)(d.nA,{className:"text-muted-foreground hidden lg:table-cell text-sm",children:new Date(e.requestDate).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"})}),(0,a.jsx)(d.nA,{children:(0,a.jsxs)(r.$,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white text-xs sm:text-sm",onClick:()=>{b(e),v(!0)},children:[(0,a.jsx)(c.A,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"ดำเนินการ"}),(0,a.jsx)("span",{className:"sm:hidden",children:"จัดการ"})]})})]},e.id)})})]})}),0===_.length&&(0,a.jsxs)("div",{className:"p-8 sm:p-12 text-center",children:[(0,a.jsx)(i,{className:"h-8 w-8 sm:h-12 sm:w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-base sm:text-lg font-medium text-foreground mb-2",children:k?"ไม่พบข้อมูลที่ค้นหา":"ไม่มีผู้ใช้ใหม่รออนุมัติ"}),(0,a.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground",children:k?"ลองค้นหาด้วยคำอื่น":"ผู้ใช้ใหม่ที่สมัครเข้ามาจะปรากฏที่นี่"})]}),z>0&&(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t bg-muted gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-3 sm:gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"แสดง"}),(0,a.jsxs)(Q.l6,{value:A.toString(),onValueChange:e=>{let s=Number(e);C(s),y(1),window.localStorage&&localStorage.setItem("pendingTable_itemsPerPage",s.toString())},children:[(0,a.jsx)(Q.bq,{className:"w-16 sm:w-20 text-xs sm:text-sm",children:(0,a.jsx)(Q.yv,{})}),(0,a.jsxs)(Q.gC,{children:[(0,a.jsx)(Q.eb,{value:"2",children:"2"}),(0,a.jsx)(Q.eb,{value:"3",children:"3"}),(0,a.jsx)(Q.eb,{value:"5",children:"5"}),(0,a.jsx)(Q.eb,{value:"10",children:"10"})]})]}),(0,a.jsx)("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"รายการต่อหน้า"})]}),(0,a.jsxs)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:["แสดง ",P+1," ถึง ",Math.min(q,z)," จาก ",z," รายการ"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>{w>1&&y(w-1)},disabled:1===w,className:"flex items-center text-xs sm:text-sm",children:[(0,a.jsx)(m.A,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"ก่อนหน้า"}),(0,a.jsx)("span",{className:"sm:hidden",children:"ก่อน"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(I,5)},(e,s)=>{let t;return t=I<=5||w<=3?s+1:w>=I-2?I-4+s:w-2+s,(0,a.jsx)(r.$,{variant:w===t?"default":"outline",size:"sm",onClick:()=>y(t),className:"w-6 h-6 sm:w-8 sm:h-8 p-0 text-xs sm:text-sm ".concat(w===t?"bg-blue-600 text-white":"text-muted-foreground hover:bg-gray-100"),children:t},t)})}),(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>{w<I&&y(w+1)},disabled:w===I,className:"flex items-center text-xs sm:text-sm",children:[(0,a.jsx)("span",{className:"hidden sm:inline",children:"ถัดไป"}),(0,a.jsx)("span",{className:"sm:hidden",children:"ถัด"}),(0,a.jsx)(x.A,{className:"w-3 h-3 sm:w-4 sm:h-4 ml-1"})]})]})]}),(0,a.jsx)(et,{user:g,isOpen:N,onClose:()=>{v(!1),b(null)},onSubmit:L})]})}},47924:(e,s,t)=>{t.d(s,{A:()=>a});let a=(0,t(19946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])}}]);