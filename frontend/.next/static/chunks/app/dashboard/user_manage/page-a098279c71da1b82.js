(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[325],{9799:(e,s,t)=>{Promise.resolve().then(t.bind(t,57165))},17580:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},47924:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},57165:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var r=t(95155),l=t(12115),a=t(50802),n=t(30285),d=t(26126),m=t(85127),i=t(59409),c=t(57340),o=t(75525),x=t(47924),u=t(13717),h=t(17580),b=t(42355),j=t(13052),p=t(54165),g=t(62523),f=t(88539);function N(e){let{user:s,isOpen:t,onClose:a,onSubmit:d}=e,[m,x]=(0,l.useState)({status:"",role:"",houseNumber:"",notes:""});(0,l.useEffect)(()=>{s&&x({status:s.status,role:s.role,houseNumber:s.houseNumber||"",notes:""})},[s]);let h=async e=>{if(e.preventDefault(),!s)return;let t=s.role!==m.role;try{let e=t?{userId:s.id,currentRole:s.role,newRole:m.role,status:m.status,houseNumber:"resident"===m.role?m.houseNumber:void 0,notes:m.notes}:{userId:s.id,role:m.role,status:m.status,houseNumber:"resident"===m.role?m.houseNumber:void 0,notes:m.notes},r=await fetch(t?"/api/changeUserRole":"/api/updateUser",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),l=await r.json();l.success?(console.log(t?"User role changed successfully:":"User updated successfully:",l),alert(t?"เปลี่ยนบทบาทผู้ใช้สำเร็จแล้ว!":"อัปเดตข้อมูลผู้ใช้สำเร็จแล้ว!"),d(m)):(console.error("Failed to update user:",l.error),alert("Failed to ".concat(t?"change user role":"update user",": ").concat(l.error)))}catch(e){console.error("Error updating user:",e),alert("An error occurred while ".concat(t?"changing user role":"updating the user"))}},b=(null==s?void 0:s.role)==="resident";return s?(0,r.jsx)(p.lG,{open:t,onOpenChange:a,children:(0,r.jsxs)(p.Cf,{className:"sm:max-w-lg max-w-[95vw] max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)(p.c7,{children:(0,r.jsxs)(p.L3,{className:"text-lg sm:text-xl font-semibold flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-500"}),"แก้ไขข้อมูลผู้ใช้"]})}),(0,r.jsxs)("div",{className:"bg-blue-50 p-3 sm:p-4 rounded-lg mb-4 sm:mb-6 border border-blue-200",children:[(0,r.jsxs)("h3",{className:"font-medium text-blue-900 mb-2 sm:mb-3 flex items-center gap-2 text-sm sm:text-base",children:[b?(0,r.jsx)(c.A,{className:"h-3 w-3 sm:h-4 sm:w-4"}):(0,r.jsx)(o.A,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"ข้อมูลผู้ใช้"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-xs sm:text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-blue-700 font-medium",children:"ชื่อ-นามสกุล:"}),(0,r.jsxs)("p",{className:"text-blue-900",children:[s.fname," ",s.lname]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-blue-700 font-medium",children:"Username:"}),(0,r.jsxs)("p",{className:"text-blue-900",children:["@",s.username]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-blue-700 font-medium",children:"อีเมล:"}),(0,r.jsx)("p",{className:"text-blue-900",children:s.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-blue-700 font-medium",children:"เบอร์โทร:"}),(0,r.jsx)("p",{className:"text-blue-900",children:s.phone})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-blue-700 font-medium",children:"ประเภท:"}),(0,r.jsx)("p",{className:"text-blue-900",children:b?"ลูกบ้าน":"ยาม"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-blue-700 font-medium",children:"วันที่เข้าร่วม:"}),(0,r.jsx)("p",{className:"text-blue-900",children:new Date(s.joinDate).toLocaleDateString("th-TH")})]}),b&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-blue-700 font-medium",children:"บ้านเลขที่:"}),(0,r.jsx)("p",{className:"text-blue-900",children:s.houseNumber})]}),!b&&s.shift&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-blue-700 font-medium",children:"กะ:"}),(0,r.jsx)("p",{className:"text-blue-900",children:s.shift})]})]})]}),(0,r.jsxs)("form",{onSubmit:h,className:"space-y-3 sm:space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-foreground mb-1 sm:mb-2",children:"สถานะ"}),(0,r.jsxs)(i.l6,{value:m.status,onValueChange:e=>x({...m,status:e}),children:[(0,r.jsx)(i.bq,{className:"text-sm",children:(0,r.jsx)(i.yv,{placeholder:"เลือกสถานะ"})}),(0,r.jsxs)(i.gC,{children:[(0,r.jsx)(i.eb,{value:"verified",children:"ยืนยันแล้ว"}),(0,r.jsx)(i.eb,{value:"disable",children:"ระงับการใช้งาน"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-foreground mb-1 sm:mb-2",children:"บทบาท"}),(0,r.jsxs)(i.l6,{value:m.role,onValueChange:e=>x({...m,role:e}),children:[(0,r.jsx)(i.bq,{className:"text-sm",children:(0,r.jsx)(i.yv,{placeholder:"เลือกบทบาท"})}),(0,r.jsxs)(i.gC,{children:[(0,r.jsx)(i.eb,{value:"resident",children:"ลูกบ้าน"}),(0,r.jsx)(i.eb,{value:"guard",children:"ยาม"})]})]})]}),"resident"===m.role&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-foreground mb-1 sm:mb-2",children:"บ้านเลขที่"}),(0,r.jsx)(g.p,{value:m.houseNumber,onChange:e=>x({...m,houseNumber:e.target.value}),placeholder:"เช่น 88/123",className:"text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-foreground mb-1 sm:mb-2",children:"หมายเหตุ (ไม่บังคับ)"}),(0,r.jsx)(f.T,{placeholder:"เพิ่มหมายเหตุหรือข้อมูลเพิ่มเติม...",value:m.notes,onChange:e=>x({...m,notes:e.target.value}),rows:3,className:"text-sm"})]}),(0,r.jsxs)(p.Es,{className:"flex gap-2 sm:gap-3 pt-4 sm:pt-6",children:[(0,r.jsx)(p.HM,{asChild:!0,children:(0,r.jsx)(n.$,{type:"button",variant:"outline",className:"flex-1 text-xs sm:text-sm",children:"ยกเลิก"})}),(0,r.jsxs)(n.$,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-xs sm:text-sm",children:[(0,r.jsx)(u.A,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"บันทึกการเปลี่ยนแปลง"}),(0,r.jsx)("span",{className:"sm:hidden",children:"บันทึก"})]})]})]})]})}):null}function v(){let[e,s]=(0,l.useState)([]),[t,a]=(0,l.useState)([]),[p,g]=(0,l.useState)(!0),[f,v]=(0,l.useState)(null),[w,y]=(0,l.useState)("residents"),[C,A]=(0,l.useState)(null),[k,S]=(0,l.useState)(!1),[E,L]=(0,l.useState)(""),[T,_]=(0,l.useState)(1),[D,H]=(0,l.useState)(()=>{if(window.localStorage){let e=localStorage.getItem("userTable_itemsPerPage");return e?parseInt(e,10):5}return 5}),[M,U]=(0,l.useState)(!1),I=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e?U(!0):g(!0),v(null);let t=await fetch("/api/userTable");if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let r=await t.json();if(r.success)s(r.data.residents),a(r.data.guards);else throw Error(r.error||"Failed to fetch users")}catch(e){v(e instanceof Error?e.message:"An error occurred"),console.error("Error fetching users:",e)}finally{g(!1),U(!1)}};(0,l.useEffect)(()=>{I()},[]);let O=e=>{A(e),S(!0)},P=(e,s)=>"".concat(e.charAt(0)).concat(s.charAt(0)).toUpperCase(),$=e=>{let s=["bg-primary","bg-green-500","bg-purple-500","bg-yellow-500","bg-red-500","bg-indigo-500"],t=e.charCodeAt(0)%s.length;return s[t]},z=e=>new Date(e).toLocaleDateString("th-TH",{year:"numeric",month:"short",day:"numeric"}),F=e.filter(e=>e.fname.toLowerCase().includes(E.toLowerCase())||e.lname.toLowerCase().includes(E.toLowerCase())||e.email.toLowerCase().includes(E.toLowerCase())||e.phone.includes(E)||e.status.includes(E)),q=t.filter(e=>e.fname.toLowerCase().includes(E.toLowerCase())||e.lname.toLowerCase().includes(E.toLowerCase())||e.email.toLowerCase().includes(E.toLowerCase())||e.status.includes(E)),R="residents"===w?F.length:q.length,V=Math.ceil(R/D);(0,l.useEffect)(()=>{_(1)},[w,E]);let B=async e=>{try{console.log("Updating user:",null==C?void 0:C.id,"with data:",e),await I(!0),S(!1),A(null)}catch(e){console.error("Error updating user:",e)}};return p?(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,r.jsx)("p",{className:"mt-2 text-muted-foreground",children:"กำลังโหลดข้อมูล..."})]})}):f?(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-red-500 text-xl mb-2",children:"⚠️"}),(0,r.jsxs)("p",{className:"text-red-600",children:["เกิดข้อผิดพลาด: ",f]}),(0,r.jsx)("button",{onClick:()=>I(),className:"mt-2 px-4 py-2 bg-primary text-white rounded hover:bg-primary/90",children:"ลองใหม่"})]})}):(0,r.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,r.jsxs)("div",{className:"bg-background rounded-lg shadow-sm border border-border p-4 sm:p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4 sm:mb-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4",children:[(0,r.jsxs)("button",{onClick:()=>y("residents"),className:"flex items-center space-x-2 px-3 sm:px-4 py-2 rounded-lg font-medium transition-colors text-sm sm:text-base ".concat("residents"===w?"bg-primary/10 text-primary border border-primary/20":"text-muted-foreground hover:bg-muted"),children:[(0,r.jsx)(c.A,{className:"h-4 w-4 sm:h-5 sm:w-5"}),(0,r.jsxs)("span",{children:["ลูกบ้าน (",e.length,")"]})]}),(0,r.jsxs)("button",{onClick:()=>y("guards"),className:"flex items-center space-x-2 px-3 sm:px-4 py-2 rounded-lg font-medium transition-colors text-sm sm:text-base ".concat("guards"===w?"bg-green-100 text-green-700 border border-green-200":"text-muted-foreground hover:bg-muted"),children:[(0,r.jsx)(o.A,{className:"h-4 w-4 sm:h-5 sm:w-5"}),(0,r.jsxs)("span",{children:["ยาม (",t.length,")"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"relative w-full sm:w-auto",children:[(0,r.jsx)(x.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,r.jsx)("input",{type:"text",placeholder:"ค้นหาผู้ใช้...",value:E,onChange:e=>L(e.target.value),className:"pl-10 pr-4 py-2 border border-border rounded-lg focus:ring-2 focus:ring-ring focus:border-transparent w-full sm:w-64 text-sm"})]}),M&&(0,r.jsxs)("div",{className:"flex items-center gap-1 text-primary text-sm",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-primary"}),(0,r.jsx)("span",{children:"กำลังอัปเดต..."})]})]})]}),"residents"===w&&(0,r.jsx)("div",{className:"overflow-x-auto rounded-lg border border-border bg-background shadow-sm hover:shadow-md transition-shadow duration-200",children:(0,r.jsxs)(m.XI,{children:[(0,r.jsx)(m.A0,{children:(0,r.jsxs)(m.Hj,{className:"bg-muted/50 border-b border-border",children:[(0,r.jsx)(m.nd,{className:"text-muted-foreground font-semibold text-sm py-4 px-6",children:"ผู้ใช้งาน"}),(0,r.jsx)(m.nd,{className:"text-muted-foreground font-semibold text-sm py-4 px-6 hidden sm:table-cell",children:"ข้อมูลติดต่อ"}),(0,r.jsx)(m.nd,{className:"text-muted-foreground font-semibold text-sm py-4 px-6 hidden md:table-cell",children:"บ้านเลขที่"}),(0,r.jsx)(m.nd,{className:"text-muted-foreground font-semibold text-sm py-4 px-6 hidden lg:table-cell",children:"วันที่เข้าร่วม"}),(0,r.jsx)(m.nd,{className:"text-muted-foreground font-semibold text-sm py-4 px-6",children:"สถานะ"}),(0,r.jsx)(m.nd,{className:"text-muted-foreground font-semibold text-sm py-4 px-6",children:"จัดการ"})]})}),(0,r.jsx)(m.BF,{children:(()=>{let e=(T-1)*D,s=e+D;return F.slice(e,s).map(e=>({...e,username:e.email.split("@")[0],houseNumber:e.house_address||e.village_key,joinDate:e.createdAt,role:"resident"}))})().map(e=>(0,r.jsxs)(m.Hj,{className:"hover:bg-muted/30 transition-colors border-b border-border/50",children:[(0,r.jsx)(m.nA,{className:"py-4 px-6",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center text-white font-semibold text-sm shadow-sm ".concat($(e.id)),children:P(e.fname,e.lname)}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsxs)("div",{className:"font-semibold text-foreground text-base",children:[e.fname," ",e.lname]}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["@",e.username]}),(0,r.jsxs)("div",{className:"sm:hidden text-xs text-muted-foreground mt-1 space-y-1",children:[(0,r.jsx)("div",{children:e.email}),(0,r.jsx)("div",{children:e.phone})]}),(0,r.jsxs)("div",{className:"md:hidden text-xs text-muted-foreground mt-1",children:["บ้านเลขที่: ",e.houseNumber]})]})]})}),(0,r.jsx)(m.nA,{className:"hidden sm:table-cell py-4 px-6",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"text-sm text-foreground font-medium",children:e.email}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:e.phone})]})}),(0,r.jsx)(m.nA,{className:"text-foreground font-semibold hidden md:table-cell text-sm py-4 px-6",children:e.houseNumber}),(0,r.jsx)(m.nA,{className:"text-muted-foreground hidden lg:table-cell text-sm py-4 px-6",children:z(e.joinDate)}),(0,r.jsx)(m.nA,{children:(0,r.jsx)(d.E,{variant:"verified"===e.status?"default":"secondary",className:"text-xs sm:text-sm ".concat("verified"===e.status?"bg-green-100 text-green-800 hover:bg-green-100":"disable"===e.status?"bg-red-100 text-red-800 hover:bg-red-100":"bg-yellow-100 text-yellow-800 hover:bg-yellow-100"),children:e.status})}),(0,r.jsx)(m.nA,{children:(0,r.jsx)(n.$,{variant:"ghost",size:"sm",className:"text-primary hover:text-primary/80 hover:bg-primary/5 text-xs sm:text-sm",onClick:()=>O(e),children:(0,r.jsx)(u.A,{className:"w-3 h-3 sm:w-4 sm:h-4"})})})]},e.id))})]})}),"guards"===w&&(0,r.jsx)("div",{className:"overflow-x-auto rounded-lg border border-border bg-background shadow-sm hover:shadow-md transition-shadow duration-200",children:(0,r.jsxs)(m.XI,{children:[(0,r.jsx)(m.A0,{children:(0,r.jsxs)(m.Hj,{className:"bg-muted/50 border-b border-border",children:[(0,r.jsx)(m.nd,{className:"text-muted-foreground font-semibold text-sm py-4 px-6",children:"ผู้ใช้งาน"}),(0,r.jsx)(m.nd,{className:"text-muted-foreground font-semibold text-sm py-4 px-6 hidden sm:table-cell",children:"ข้อมูลติดต่อ"}),(0,r.jsx)(m.nd,{className:"text-muted-foreground font-semibold text-sm py-4 px-6 hidden lg:table-cell",children:"วันที่เข้าร่วม"}),(0,r.jsx)(m.nd,{className:"text-muted-foreground font-semibold text-sm py-4 px-6",children:"สถานะ"}),(0,r.jsx)(m.nd,{className:"text-muted-foreground font-semibold text-sm py-4 px-6",children:"จัดการ"})]})}),(0,r.jsx)(m.BF,{children:(()=>{let e=(T-1)*D,s=e+D;return q.slice(e,s).map(e=>({...e,username:e.email.split("@")[0],houseNumber:e.house_address||"-",shift:"กะปกติ",joinDate:e.createdAt,role:"guard"}))})().map(e=>(0,r.jsxs)(m.Hj,{className:"hover:bg-muted",children:[(0,r.jsx)(m.nA,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center text-white font-medium text-xs sm:text-sm ".concat($(e.id)),children:P(e.fname,e.lname)}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"font-medium text-foreground text-sm sm:text-base",children:[e.fname," ",e.lname]}),(0,r.jsxs)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:["@",e.username]}),(0,r.jsxs)("div",{className:"sm:hidden text-xs text-muted-foreground mt-1",children:[e.email,(0,r.jsx)("br",{}),e.phone]})]})]})}),(0,r.jsx)(m.nA,{className:"hidden sm:table-cell",children:(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("div",{className:"text-sm text-foreground",children:e.email}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:e.phone})]})}),(0,r.jsx)(m.nA,{className:"text-muted-foreground hidden lg:table-cell text-sm",children:z(e.joinDate)}),(0,r.jsx)(m.nA,{children:(0,r.jsx)(d.E,{variant:"verified"===e.status?"default":"secondary",className:"text-xs sm:text-sm ".concat("verified"===e.status?"bg-green-100 text-green-800 hover:bg-green-100":"disable"===e.status?"bg-red-100 text-red-800 hover:bg-red-100":"bg-yellow-100 text-yellow-800 hover:bg-yellow-100"),children:e.status})}),(0,r.jsx)(m.nA,{children:(0,r.jsx)(n.$,{variant:"ghost",size:"sm",className:"text-primary hover:text-primary/80 hover:bg-primary/5 text-xs sm:text-sm",onClick:()=>O(e),children:(0,r.jsx)(u.A,{className:"w-3 h-3 sm:w-4 sm:h-4"})})})]},e.id))})]})}),("residents"===w&&0===F.length||"guards"===w&&0===q.length)&&(0,r.jsxs)("div",{className:"p-8 sm:p-12 text-center",children:[(0,r.jsx)(h.A,{className:"h-8 w-8 sm:h-12 sm:w-12 text-muted-foreground mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-base sm:text-lg font-medium text-foreground mb-2",children:"ไม่พบข้อมูลผู้ใช้"}),(0,r.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground",children:E?"ลองค้นหาด้วยคำอื่น":"ยังไม่มีข้อมูลผู้ใช้ในหมวดหมู่นี้"})]}),R>0&&(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t bg-muted gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-3 sm:gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"แสดง"}),(0,r.jsxs)(i.l6,{value:D.toString(),onValueChange:e=>{let s=Number(e);H(s),_(1),window.localStorage&&localStorage.setItem("userTable_itemsPerPage",s.toString())},children:[(0,r.jsx)(i.bq,{className:"w-16 sm:w-20 text-xs sm:text-sm",children:(0,r.jsx)(i.yv,{})}),(0,r.jsxs)(i.gC,{children:[(0,r.jsx)(i.eb,{value:"3",children:"3"}),(0,r.jsx)(i.eb,{value:"5",children:"5"}),(0,r.jsx)(i.eb,{value:"10",children:"10"}),(0,r.jsx)(i.eb,{value:"20",children:"20"})]})]}),(0,r.jsx)("span",{className:"text-xs sm:text-sm text-muted-foreground",children:"รายการต่อหน้า"})]}),(0,r.jsxs)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:["แสดง ",(T-1)*D+1," ถึง ",Math.min(T*D,R)," จาก ",R," รายการ"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>{T>1&&_(T-1)},disabled:1===T,className:"flex items-center text-xs sm:text-sm",children:[(0,r.jsx)(b.A,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"ก่อนหน้า"}),(0,r.jsx)("span",{className:"sm:hidden",children:"ก่อน"})]}),(0,r.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(V,5)},(e,s)=>{let t;return t=V<=5||T<=3?s+1:T>=V-2?V-4+s:T-2+s,(0,r.jsx)(n.$,{variant:T===t?"default":"outline",size:"sm",onClick:()=>_(t),className:"w-6 h-6 sm:w-8 sm:h-8 p-0 text-xs sm:text-sm ".concat(T===t?"bg-blue-600 text-white":"text-muted-foreground hover:bg-muted"),children:t},t)})}),(0,r.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>{T<V&&_(T+1)},disabled:T===V,className:"flex items-center text-xs sm:text-sm",children:[(0,r.jsx)("span",{className:"hidden sm:inline",children:"ถัดไป"}),(0,r.jsx)("span",{className:"sm:hidden",children:"ถัด"}),(0,r.jsx)(j.A,{className:"w-3 h-3 sm:w-4 sm:h-4 ml-1"})]})]})]})]}),(0,r.jsx)(N,{user:C,isOpen:k,onClose:()=>{S(!1),A(null)},onSubmit:B})]})}function w(){let e=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let s=e.current;return a.os.set(s,{opacity:0,y:50}),a.os.to(s,{duration:.8,opacity:1,y:0,ease:"power2.inOut",delay:.2}),()=>{a.os.killTweensOf(s)}},[]),(0,r.jsx)("div",{className:"min-h-screen bg-background",children:(0,r.jsx)("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-3 sm:py-6 max-w-full xl:max-w-7xl",children:(0,r.jsx)("div",{ref:e,children:(0,r.jsx)(v,{})})})})}},75525:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])}},e=>{e.O(0,[592,389,802,609,589,764,71,955,441,964,358],()=>e(e.s=9799)),_N_E=e.O()}]);