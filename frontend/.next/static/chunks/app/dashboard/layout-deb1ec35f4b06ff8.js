(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[954],{14636:(e,t,a)=>{"use strict";a.d(t,{AM:()=>n,Wv:()=>d,hl:()=>o});var s=a(95155);a(12115);var r=a(20547),i=a(59434);function n(e){let{...t}=e;return(0,s.jsx)(r.bL,{"data-slot":"popover",...t})}function d(e){let{...t}=e;return(0,s.jsx)(r.l9,{"data-slot":"popover-trigger",...t})}function o(e){let{className:t,align:a="center",sideOffset:n=4,...d}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsx)(r.UC,{"data-slot":"popover-content",align:a,sideOffset:n,className:(0,i.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...d})})}},22346:(e,t,a)=>{"use strict";a.d(t,{w:()=>n});var s=a(95155);a(12115);var r=a(87489),i=a(59434);function n(e){let{className:t,orientation:a="horizontal",decorative:n=!0,...d}=e;return(0,s.jsx)(r.b,{"data-slot":"separator",decorative:n,orientation:a,className:(0,i.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...d})}},26126:(e,t,a)=>{"use strict";a.d(t,{E:()=>o});var s=a(95155);a(12115);var r=a(99708),i=a(74466),n=a(59434);let d=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:a,asChild:i=!1,...o}=e,l=i?r.DX:"span";return(0,s.jsx)(l,{"data-slot":"badge",className:(0,n.cn)(d({variant:a}),t),...o})}},30285:(e,t,a)=>{"use strict";a.d(t,{$:()=>o,r:()=>d});var s=a(95155);a(12115);var r=a(99708),i=a(74466),n=a(59434);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:a,size:i,asChild:o=!1,...l}=e,c=o?r.DX:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,n.cn)(d({variant:a,size:i,className:t})),...l})}},49536:(e,t,a)=>{Promise.resolve().then(a.bind(a,67560))},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i});var s=a(52596),r=a(39688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},62523:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var s=a(95155);a(12115);var r=a(59434);function i(e){let{className:t,type:a,...i}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}},66424:(e,t,a)=>{"use strict";a.d(t,{F:()=>n});var s=a(95155);a(12115);var r=a(47655),i=a(59434);function n(e){let{className:t,children:a,...n}=e;return(0,s.jsxs)(r.bL,{"data-slot":"scroll-area",className:(0,i.cn)("relative",t),...n,children:[(0,s.jsx)(r.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:a}),(0,s.jsx)(d,{}),(0,s.jsx)(r.OK,{})]})}function d(e){let{className:t,orientation:a="vertical",...n}=e;return(0,s.jsx)(r.VM,{"data-slot":"scroll-area-scrollbar",orientation:a,className:(0,i.cn)("flex touch-none p-px transition-colors select-none","vertical"===a&&"h-full w-2.5 border-l border-l-transparent","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:(0,s.jsx)(r.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}},67560:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ey});var s=a(95155),r=a(12115),i=a(99708),n=a(74466),d=a(22432),o=a(59434),l=a(30285);a(62523);var c=a(22346),u=a(15452),m=a(54416);function x(e){let{...t}=e;return(0,s.jsx)(u.bL,{"data-slot":"sheet",...t})}function f(e){let{...t}=e;return(0,s.jsx)(u.ZL,{"data-slot":"sheet-portal",...t})}function h(e){let{className:t,...a}=e;return(0,s.jsx)(u.hJ,{"data-slot":"sheet-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function p(e){let{className:t,children:a,side:r="right",...i}=e;return(0,s.jsxs)(f,{children:[(0,s.jsx)(h,{}),(0,s.jsxs)(u.UC,{"data-slot":"sheet-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===r&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===r&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===r&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===r&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...i,children:[a,(0,s.jsxs)(u.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,s.jsx)(m.A,{className:"size-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function b(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sheet-header",className:(0,o.cn)("flex flex-col gap-1.5 p-4",t),...a})}function g(e){let{className:t,...a}=e;return(0,s.jsx)(u.hE,{"data-slot":"sheet-title",className:(0,o.cn)("text-foreground font-semibold",t),...a})}function v(e){let{className:t,...a}=e;return(0,s.jsx)(u.VY,{"data-slot":"sheet-description",className:(0,o.cn)("text-muted-foreground text-sm",t),...a})}var j=a(89613);function w(e){let{delayDuration:t=0,...a}=e;return(0,s.jsx)(j.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...a})}function N(e){let{...t}=e;return(0,s.jsx)(w,{children:(0,s.jsx)(j.bL,{"data-slot":"tooltip",...t})})}function y(e){let{...t}=e;return(0,s.jsx)(j.l9,{"data-slot":"tooltip-trigger",...t})}function k(e){let{className:t,sideOffset:a=0,children:r,...i}=e;return(0,s.jsx)(j.ZL,{children:(0,s.jsxs)(j.UC,{"data-slot":"tooltip-content",sideOffset:a,className:(0,o.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...i,children:[r,(0,s.jsx)(j.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}let C=r.createContext(null);function z(){let e=r.useContext(C);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}function E(e){let{defaultOpen:t=!0,open:a,onOpenChange:i,className:n,style:d,children:l,...c}=e,u=function(){let[e,t]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}(),[m,x]=r.useState(!1),[f,h]=r.useState(t),p=null!=a?a:f,b=r.useCallback(e=>{let t="function"==typeof e?e(p):e;i?i(t):h(t),document.cookie="".concat("sidebar_state","=").concat(t,"; path=/; max-age=").concat(604800)},[i,p]),g=r.useCallback(()=>u?x(e=>!e):b(e=>!e),[u,b,x]);r.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),g())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[g]);let v=p?"expanded":"collapsed",j=r.useMemo(()=>({state:v,open:p,setOpen:b,isMobile:u,openMobile:m,setOpenMobile:x,toggleSidebar:g}),[v,p,b,u,m,x,g]);return(0,s.jsx)(C.Provider,{value:j,children:(0,s.jsx)(w,{delayDuration:0,children:(0,s.jsx)("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...d},className:(0,o.cn)("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",n),...c,children:l})})})}function A(e){let{side:t="left",variant:a="sidebar",collapsible:r="offcanvas",className:i,children:n,...d}=e,{isMobile:l,state:c,openMobile:u,setOpenMobile:m}=z();return"none"===r?(0,s.jsx)("div",{"data-slot":"sidebar",className:(0,o.cn)("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",i),...d,children:n}):l?(0,s.jsx)(x,{open:u,onOpenChange:m,...d,children:(0,s.jsxs)(p,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:t,children:[(0,s.jsxs)(b,{className:"sr-only",children:[(0,s.jsx)(g,{children:"Sidebar"}),(0,s.jsx)(v,{children:"Displays the mobile sidebar."})]}),(0,s.jsx)("div",{className:"flex h-full w-full flex-col",children:n})]})}):(0,s.jsxs)("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":c,"data-collapsible":"collapsed"===c?r:"","data-variant":a,"data-side":t,"data-slot":"sidebar",children:[(0,s.jsx)("div",{"data-slot":"sidebar-gap",className:(0,o.cn)("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===a||"inset"===a?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),(0,s.jsx)("div",{"data-slot":"sidebar-container",className:(0,o.cn)("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex","left"===t?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===a||"inset"===a?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",i),...d,children:(0,s.jsx)("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:n})})]})}function _(e){let{className:t,onClick:a,...r}=e,{toggleSidebar:i}=z();return(0,s.jsxs)(l.$,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:(0,o.cn)("size-7",t),onClick:e=>{null==a||a(e),i()},...r,children:[(0,s.jsx)(d.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function B(e){let{className:t,...a}=e;return(0,s.jsx)("main",{"data-slot":"sidebar-inset",className:(0,o.cn)("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",t),...a})}function D(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:(0,o.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...a})}function L(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:(0,o.cn)("relative flex w-full min-w-0 flex-col p-2",t),...a})}function S(e){let{className:t,asChild:a=!1,...r}=e,n=a?i.DX:"div";return(0,s.jsx)(n,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:(0,o.cn)("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})}function O(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:(0,o.cn)("w-full text-sm",t),...a})}function R(e){let{className:t,...a}=e;return(0,s.jsx)("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:(0,o.cn)("flex w-full min-w-0 flex-col gap-1",t),...a})}function P(e){let{className:t,...a}=e;return(0,s.jsx)("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:(0,o.cn)("group/menu-item relative",t),...a})}let T=(0,n.F)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function X(e){let{asChild:t=!1,isActive:a=!1,variant:r="default",size:n="default",tooltip:d,className:l,...c}=e,u=t?i.DX:"button",{isMobile:m,state:x}=z(),f=(0,s.jsx)(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":n,"data-active":a,className:(0,o.cn)(T({variant:r,size:n}),l),...c});return d?("string"==typeof d&&(d={children:d}),(0,s.jsxs)(N,{children:[(0,s.jsx)(y,{asChild:!0,children:f}),(0,s.jsx)(k,{side:"right",align:"center",hidden:"collapsed"!==x||m,...d})]})):f}var F=a(57340),M=a(56979),V=a(48136),$=a(29676),W=a(381),K=a(34835),U=a(54011);function Z(e){let{className:t,...a}=e;return(0,s.jsx)(U.bL,{"data-slot":"avatar",className:(0,o.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...a})}function q(e){let{className:t,...a}=e;return(0,s.jsx)(U._V,{"data-slot":"avatar-image",className:(0,o.cn)("aspect-square size-full",t),...a})}function H(e){let{className:t,...a}=e;return(0,s.jsx)(U.H4,{"data-slot":"avatar-fallback",className:(0,o.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...a})}var I=a(6874),G=a.n(I),J=a(35695);let Q=[{title:"หน้าหลัก",url:"/dashboard",icon:F.A},{title:"จัดการบัญชีผู้ใช้",url:"/dashboard/user_manage",icon:M.A},{title:"จัดการบ้าน",url:"/dashboard/house_manage",icon:V.A},{title:"ประวัติ",url:"/dashboard/history",icon:$.A},{title:"การตั้งค่า",url:"/dashboard/setting_manage",icon:W.A}],Y=(0,r.memo)(function(){let e=(0,J.useRouter)(),t=(0,J.usePathname)(),[a,i]=(0,r.useState)(!1),{setOpen:n}=z(),d=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/auth/logout",{method:"GET"});if(!e.ok){let t=await e.json();throw Error((null==t?void 0:t.message)||"Login failed")}i(!0)}catch(e){}},[]);return(0,r.useEffect)(()=>{a&&e.push("/login")},[a,e]),(0,s.jsx)(A,{children:(0,s.jsxs)(D,{className:"flex flex-col",children:[(0,s.jsxs)(L,{className:"flex-1",children:[(0,s.jsx)(S,{className:"my-3 md:my-5 border-border mb-4 md:mb-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 md:gap-3 p-2 md:p-3",children:[(0,s.jsx)("div",{children:(0,s.jsxs)(Z,{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14",children:[(0,s.jsx)(q,{src:"https://www.lifeandliving.co.th/wp-content/uploads/2022/01/%E0%B8%9A%E0%B9%89%E0%B8%B2%E0%B8%99%E0%B8%88%E0%B8%B1%E0%B8%94%E0%B8%AA%E0%B8%A3%E0%B8%A3-%E0%B8%A3%E0%B8%B0%E0%B8%A2%E0%B8%AD%E0%B8%87.jpg.webp"}),(0,s.jsx)(H,{children:"CN"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"scroll-m-20 text-2xl font-semibold tracking-tight",children:"หมู่บ้านไทย"}),(0,s.jsx)("p",{className:"text-xs md:text-sm text-muted-foreground mt-1",children:"ระบบจัดการหมู่บ้าน"})]})]})}),(0,s.jsx)(O,{className:"border-t border-border",children:(0,s.jsx)(R,{children:Q.map(e=>(0,s.jsx)(P,{className:"",children:(0,s.jsx)(X,{asChild:!0,className:"py-3 md:py-4 px-2 md:px-3 h-auto text-sm md:text-base transition-all duration-200 ".concat(t===e.url?"bg-accent text-accent-foreground border-r-2 border-primary":"hover:bg-muted"),children:(0,s.jsxs)(G(),{href:e.url,onClick:()=>{window.innerWidth<768&&n(!1)},children:[(0,s.jsx)(e.icon,{className:"w-4 h-4 md:w-5 md:h-5 ".concat(t===e.url?"text-primary":"")}),(0,s.jsx)("span",{className:t===e.url?"font-semibold":"",children:e.title})]})})},e.title))})})]}),(0,s.jsx)(L,{className:"mt-auto border-t border-border",children:(0,s.jsx)(O,{children:(0,s.jsx)(R,{children:(0,s.jsx)(P,{children:(0,s.jsx)(X,{asChild:!0,className:"py-3 md:py-4 px-2 md:px-3 h-auto text-sm md:text-base font-bold text-destructive hover:text-destructive/80 hover:bg-destructive/10 transition-colors",children:(0,s.jsxs)(G(),{href:"",onClick:d,children:[(0,s.jsx)(K.A,{className:"w-4 h-4 md:w-5 md:h-5"}),(0,s.jsx)("span",{children:"ออกจากระบบ"})]})})})})})})]})})});var ee=a(74783),et=a(50802),ea=a(49992),es=a(62525),er=a(84616),ei=a(23861),en=a(71007),ed=a(26126),eo=a(14636),el=a(66424);let ec=[{id:1,type:"edit",icon:ea.A,title:"แก้ไขข้อมูลผู้อยู่อาศัย",description:"แก้ไขข้อมูลนาย สมชาย ใจดี บ้านเลขที่ 123",time:"5 นาทีที่แล้ว",admin:"ผู้จัดการ A",isRead:!1},{id:2,type:"delete",icon:es.A,title:"ลบข้อมูลครัวเรือน",description:"ลบข้อมูลครัวเรือนบ้านเลขที่ 456",time:"15 นาทีที่แล้ว",admin:"ผู้จัดการ B",isRead:!1},{id:3,type:"add",icon:er.A,title:"เพิ่มสมาชิกใหม่",description:"เพิ่มสมาชิกใหม่ นางสาวมาลี สุขใส",time:"30 นาทีที่แล้ว",admin:"ผู้จัดการ A",isRead:!0},{id:4,type:"settings",icon:W.A,title:"เปลี่ยนแปลงการตั้งค่า",description:"อัพเดทการตั้งค่าระบบความปลอดภัย",time:"1 ชั่วโมงที่แล้ว",admin:"ผู้จัดการ C",isRead:!0},{id:5,type:"edit",icon:ea.A,title:"แก้ไขข้อมูลที่อยู่",description:"แก้ไขที่อยู่บ้านเลขที่ 789 ซอยสุขุมวิท",time:"2 ชั่วโมงที่แล้ว",admin:"ผู้จัดการ B",isRead:!0}];function eu(){let[e,t]=(0,r.useState)(ec),[a,i]=(0,r.useState)(!1),n=e.filter(e=>!e.isRead).length;return(0,s.jsxs)(eo.AM,{open:a,onOpenChange:e=>{i(e),e&&setTimeout(()=>{t(e=>e.map(e=>({...e,isRead:!0})))},1e3)},children:[(0,s.jsx)(eo.Wv,{asChild:!0,children:(0,s.jsxs)(l.$,{variant:"outline",size:"icon",className:"relative hover:bg-muted",children:[(0,s.jsx)(ei.A,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n>0&&(0,s.jsx)(ed.E,{className:"absolute -top-1 -right-1 sm:-top-2 sm:-right-2 bg-red-500 text-white text-xs px-1 sm:px-2 py-0.5 sm:py-1 rounded-full min-w-[16px] sm:min-w-[20px] h-4 sm:h-5 flex items-center justify-center",children:n})]})}),(0,s.jsxs)(eo.hl,{className:"w-80 sm:w-96 p-0",align:"end",children:[(0,s.jsxs)("div",{className:"p-3 sm:p-4 border-b",children:[(0,s.jsx)("h3",{className:"font-semibold text-base sm:text-lg",children:"แจ้งเตือน"}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"การกระทำล่าสุดของระบบ"})]}),(0,s.jsx)(el.F,{className:"h-80 sm:h-96",children:(0,s.jsx)("div",{className:"p-2",children:e.map((t,a)=>{let r=t.icon;return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"p-2 sm:p-3 rounded-lg hover:bg-muted cursor-pointer transition-colors ".concat(t.isRead?"":"bg-blue-50 border-l-4 border-blue-500"),children:(0,s.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3",children:[(0,s.jsx)("div",{className:"p-1.5 sm:p-2 rounded-full bg-muted ".concat((e=>{switch(e){case"edit":return"text-blue-500";case"delete":return"text-red-500";case"add":return"text-green-500";case"settings":return"text-orange-500";default:return"text-muted-foreground"}})(t.type)),children:(0,s.jsx)(r,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h4",{className:"text-xs sm:text-sm font-medium truncate",children:t.title}),!t.isRead&&(0,s.jsx)("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-blue-500 rounded-full flex-shrink-0 ml-1 sm:ml-2"})]}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1 line-clamp-2",children:t.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-1 sm:mt-2 text-xs text-muted-foreground",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(en.A,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:t.admin}),(0,s.jsx)("span",{className:"sm:hidden",children:t.admin.split(" ")[0]})]}),(0,s.jsx)("span",{className:"text-xs",children:t.time})]})]})]})}),a<e.length-1&&(0,s.jsx)(c.w,{className:"my-1"})]},t.id)})})}),(0,s.jsx)("div",{className:"p-2 sm:p-3 border-t",children:(0,s.jsx)(l.$,{variant:"ghost",className:"w-full text-xs sm:text-sm",children:"ดูแจ้งเตือนทั้งหมด"})})]})]})}var em=a(62098),ex=a(93509),ef=a(51362),eh=a(9449);function ep(e){let{...t}=e;return(0,s.jsx)(eh.bL,{"data-slot":"dropdown-menu",...t})}function eb(e){let{...t}=e;return(0,s.jsx)(eh.l9,{"data-slot":"dropdown-menu-trigger",...t})}function eg(e){let{className:t,sideOffset:a=4,...r}=e;return(0,s.jsx)(eh.ZL,{children:(0,s.jsx)(eh.UC,{"data-slot":"dropdown-menu-content",sideOffset:a,className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function ev(e){let{className:t,inset:a,variant:r="default",...i}=e;return(0,s.jsx)(eh.q7,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":r,className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}function ej(){let{setTheme:e}=(0,ef.D)();return(0,s.jsxs)(ep,{children:[(0,s.jsx)(eb,{asChild:!0,children:(0,s.jsxs)(l.$,{variant:"outline",size:"icon",children:[(0,s.jsx)(em.A,{className:"h-[1.2rem] w-[1.2rem] scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90"}),(0,s.jsx)(ex.A,{className:"absolute h-[1.2rem] w-[1.2rem] scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,s.jsxs)(eg,{align:"end",children:[(0,s.jsx)(ev,{onClick:()=>e("light"),children:"Light"}),(0,s.jsx)(ev,{onClick:()=>e("dark"),children:"Dark"}),(0,s.jsx)(ev,{onClick:()=>e("system"),children:"System"})]})]})}var ew=a(66766);let eN=function(){let e=(0,J.usePathname)(),[t,a]=(0,r.useState)(null),i=(0,r.useRef)(null),[n,d]=(0,r.useState)(0),o=(0,r.useRef)(null),l=(0,r.useRef)(!1),{open:c}=z(),u=new Date,x=new Intl.DateTimeFormat("th-TH",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(u);(0,r.useEffect)(()=>{fetch("/api/auth/me",{credentials:"include"}).then(e=>401===e.status?null:e.json()).then(e=>{e&&a(e)})},[]);let f=(0,r.useCallback)(()=>{if(!i.current||!t||l.current)return;let e=["สวัสดีคุณผู้จัดการ","".concat(t.username," \uD83D\uDC4B")];et.os.set(i.current,{y:20,opacity:0,rotationX:-90,transformOrigin:"center bottom"}),d(0),l.current=!0;let a=et.os.timeline({repeat:-1,repeatDelay:.5,onComplete:()=>{l.current=!1}});e.forEach((e,t)=>{a.to(i.current,{duration:.2,y:-10,opacity:0,rotationX:90,ease:"power2.inOut",onComplete:()=>{d(t)}}).to(i.current,{duration:.5,y:0,opacity:1,rotationX:0,ease:"power2.inOut"}).to({},{duration:2.5})}),o.current=a},[t]),h=()=>{o.current&&(o.current.kill(),o.current=null),i.current&&(et.os.killTweensOf(i.current),et.os.set(i.current,{clearProps:"all"})),l.current=!1,d(0)};(0,r.useEffect)(()=>("/dashboard"===e&&t?l.current||f():h(),()=>{h()}),[e,t,f]),(0,r.useEffect)(()=>{"/dashboard"===e&&t&&!l.current&&f()},[t,e,f]);let p=(()=>{switch(e){case"/dashboard":return{title:"",subtitle:new Date().toLocaleDateString("th-TH",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),titleClass:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-semibold tracking-tight text-foreground",subtitleClass:"text-xs sm:text-sm md:text-base text-muted-foreground"};case"/dashboard/user_manage":return{title:"จัดการผู้ใช้งาน",subtitle:"จัดการข้อมูลผู้ใช้งานทั้งหมดในระบบ",titleClass:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-semibold tracking-tight text-foreground",subtitleClass:"text-xs sm:text-sm md:text-base text-muted-foreground"};case"/dashboard/house_manage":return{title:"การจัดการบ้าน",subtitle:"จัดการข้อมูลบ้านและสถานะการอยู่อาศัย",titleClass:"text-xl sm:text-2xl lg:text-3xl font-semibold tracking-tight text-foreground",subtitleClass:"text-sm sm:text-base text-muted-foreground"};case"/dashboard/setting_manage":return{title:"การตั้งค่า",subtitle:"จัดการการตั้งค่าระบบ",titleClass:"text-2xl font-bold text-foreground",subtitleClass:"text-sm text-muted-foreground"};default:return{title:"การจัดการบ้าน",subtitle:x,titleClass:"text-2xl font-bold text-foreground",subtitleClass:"text-sm text-muted-foreground"}}})();return(0,s.jsx)("nav",{className:"w-full",children:(0,s.jsxs)("div",{className:"bg-background p-4 flex justify-between items-center border-b border-border",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(_,{className:"p-2 hover:bg-muted rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-ring",children:c?(0,s.jsx)(m.A,{className:"h-5 w-5 text-muted-foreground"}):(0,s.jsx)(ee.A,{className:"h-5 w-5 text-muted-foreground"})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"flex items-center gap-3",children:"/dashboard"===e?(0,s.jsx)("div",{className:"relative overflow-hidden h-10 flex items-center",children:(0,s.jsx)("span",{ref:i,className:"inline-block text-lg sm:text-xl md:text-2xl lg:text-3xl font-semibold tracking-tight text-foreground transform-gpu",style:{transformStyle:"preserve-3d",perspective:"1000px"},children:t&&(0===n?"สวัสดีคุณผู้จัดการ":"".concat(t.username," \uD83D\uDC4B"))})}):(0,s.jsx)("h1",{className:p.titleClass,children:p.title})}),(0,s.jsx)("p",{className:p.subtitleClass,children:p.subtitle})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(ej,{}),(0,s.jsx)(eu,{}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-muted flex items-center justify-center relative",children:(0,s.jsx)(ew.default,{src:(null==t?void 0:t.profileImage)||"/image.png",alt:(null==t?void 0:t.fname)&&(null==t?void 0:t.lname)?"".concat(t.fname," ").concat(t.lname," Profile"):"Profile Picture",fill:!0,className:"object-cover",sizes:"40px",onError:()=>{}})}),(0,s.jsxs)("div",{className:"hidden sm:flex flex-col",children:[(0,s.jsx)("span",{className:"text-foreground font-medium text-sm",children:(null==t?void 0:t.fname)&&(null==t?void 0:t.lname)?"".concat(t.fname," ").concat(t.lname):(null==t?void 0:t.username)||"ผู้ใช้งาน"}),(0,s.jsx)("span",{className:"text-muted-foreground text-xs",children:(null==t?void 0:t.role)==="admin"?"ผู้จัดการ":(null==t?void 0:t.role)||""})]})]})]})]})})};function ey(e){let{children:t}=e,[a,i]=(0,r.useState)(null);return((0,r.useEffect)(()=>{fetch("/api/auth/me",{credentials:"include"}).then(e=>{if(401===e.status){window.location.href="/login";return}return e.json()}).then(e=>{e&&i(e)})},[]),a)?(0,s.jsxs)(E,{defaultOpen:!0,children:[(0,s.jsx)(Y,{}),(0,s.jsxs)(B,{children:[(0,s.jsx)(eN,{}),t]})]}):(0,s.jsx)("p",{children:"Loading..."})}}},e=>{e.O(0,[592,277,802,289,589,71,987,431,441,964,358],()=>e(e.s=49536)),_N_E=e.O()}]);